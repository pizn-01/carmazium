// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Listing {
  id           String        @id @default(uuid())
  userId       String
  
  // Vehicle Details
  make         String
  model        String
  year         Int
  mileage      Int
  fuelType     FuelType
  transmission Transmission
  vrm          String

  // Sales Data
  price        Decimal       @db.Decimal(12, 2)
  currency     String        @default("GBP")
  status       ListingStatus @default(DRAFT)
  listingType  ListingType

  // Media
  images       Json          // Array of URLs

  // Timestamps
  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt

  @@index([make])
}

enum FuelType {
  PETROL
  DIESEL
  ELECTRIC
  HYBRID
}

enum Transmission {
  AUTOMATIC
  MANUAL
}

enum ListingStatus {
  DRAFT
  ACTIVE
  SOLD
  ARCHIVED
}

enum ListingType {
  CLASSIFIED
  AUCTION
}
